<!doctype html>
<html class="no-js" lang="en">
<head>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-131686897-2"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-131686897-2');
</script>

<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />

<title>PHYSCI 70: Introduction to Digital Fabrication</title>
<meta name="description" content="Index Page">
<script src="../js/vendor/jquery.min.js"></script>
<script>
	$(function(){
	  $("#header").load("../header.html");
	  $("#footer").load("../footer.html");
	});
</script>

<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js"></script>
<link href="../css/style.css" rel="stylesheet">
<script src="../js/vendor/modernizr.js"></script>

<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/arduino-light.min.css">
<script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.8.0/highlight.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/arduino.min.js"></script>
<script>hljs.initHighlightingOnLoad();</script>

</head>
<body>

<div id="header"></div>

<!-- FIRST ROW -->
<div class="row">
	<div class="large-3  columns">
		<h3> Huzzah </h3>
	</div >

	<div class="small-12 medium-12 large-9  columns">

		<h3> Huzzah Workshop </h3>
		<p> Materials needed for this tutorial: 
			<ul> 
				<li><a href='https://www.adafruit.com/product/3405'>Huzzah board</a> </li>
				<li>Protoboard</li>
<!-- 				<li>Servo motor</li>
				<li>Potentiometer</li> -->
			</ul>
		</p> 

		<p> The previous tutorial showed how to build a web interface to control your ESP32 over a Local Area Network. If you want to talk to your ESP32, you'll need to do a bit more work. There are many options: </p>

		<ul> 
			<li> Build a full-stack server with a Model View Controller (MVC) architecture. Useful tools for this include <a href='https://www.ibm.com/cloud-computing/bluemix/'> IBM</a> or <a href='https://aws.amazon.com/iot/'>Amazon Web Services</a>. </li> 
			<li> Use a 3rd party platform designed to allow for a server-less IoT. Examples include <a href='https://io.adafruit.com/'>Adafruit IO</a>, <a href='https://thingspeak.com/'>ThingSpeak</a>,  
<!-- 				

https://www.carriots.com/


https://thethings.io/

https://www.artik.io/ 

https://nodered.org/

pubnub


-->


			</li> 
			<li> Use a service like <a href='https://ifttt.com/'>If This, Then That (IFTTT)</a> to manage websocket connections. This service has gotten a bit more "business-oriented" than the previous examples, and doesn't allow direct or low-level control over your IoT devices (at least not without subscribing).  features lots of integrations to products like <a href='https://randomnerdtutorials.com/esp32-esp8266-publish-sensor-readings-to-google-sheets/'>Google Sheets</a>, which you can use for data logging. </li> 

			<li> Use a 3rd party platform that acts as a general-purpose database for your IoT project. We'll use <a href='https://firebase.google.com/'>Google Firebase</a> for this. Like the other 3rd party platforms, we'll be able to talk to your device from anywhere in the world. We can also talk to the Firebase real-time database from personal webpages, or build <a href='https://github.com/nathanmelenbrink/artg2260/blob/45924db6e60abae73a9ead30eaee0fd356d31b24/09_media/test.html'>a full-fledged app</a> with logins and permissions on top of it. </li>


		</ul>


			<p> In Arduino, we can start with some of the WiFi library boilerplate code that we used in the last example (no need to start a server instance this time). Also, paste in your key from Firebase and make up a name for the event you want to trigger. </p>
		

<pre><code class="language-arduino">
#include &lt;WiFi.h&gt;                                        // esp32 library

#include &lt;IOXhop_FirebaseESP32.h&gt;                                            // firebase library

#define FIREBASE_HOST "esp32-led-9a0ab.firebaseio.com/"                         // the project name address from firebase id

#define FIREBASE_AUTH ""                    // the secret key generated from firebase

#define WIFI_SSID ""                                          // input your home or public wifi name

#define WIFI_PASSWORD ""                                    //password of wifi ssid

String fireStatus = "";                                                     // led status received from firebase

int led = 5;

void setup() {

  Serial.begin(9600);

  delay(1000);

  pinMode(5, OUTPUT);

  WiFi.begin(WIFI_SSID, WIFI_PASSWORD);                                      //try to connect with wifi

  Serial.print("Connecting to ");

  Serial.print(WIFI_SSID);

  while (WiFi.status() != WL_CONNECTED) {

    Serial.print(".");

    delay(500);

  }

  Serial.println();

  Serial.print("Connected to ");

  Serial.println(WIFI_SSID);

  Serial.print("IP Address is : ");

  Serial.println(WiFi.localIP());                                                      //print local IP address

  Firebase.begin(FIREBASE_HOST, FIREBASE_AUTH);                                       // connect to firebase

  Firebase.setString("LED_STATUS", "OFF");                                          //send initial string of led status

}

void loop() {

  fireStatus = Firebase.getString("LED_STATUS");                     // get led status input from firebase

  if (fireStatus == "ON") {                         // compare the input of led status received from firebase

    Serial.println("Led Turned ON");

    digitalWrite(5, HIGH);                                                         // make output led ON

  }

  else if (fireStatus == "OFF") {              // compare the input of led status received from firebase

    Serial.println("Led Turned OFF");

    digitalWrite(5, LOW);                                                         // make output led OFF

  }

  else {

    Serial.println("Wrong Credential! Please send ON/OFF");

  }

}

</code></pre>





		

	</div >
</div>



<div id="footer"></div>

</body>
</html>
