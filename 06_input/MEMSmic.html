<!doctype html>
<html class="no-js" lang="en">
<head>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-131686897-2"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-131686897-2');
</script>

<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />

<title>PHYSCI 70: Introduction to Digital Fabrication</title>
<meta name="description" content="Index Page">
<script src="../js/vendor/jquery.min.js"></script>
<script>
	$(function(){
	  $("#header").load("../header.html");
	  $("#footer").load("../footer.html");
	});
</script>

<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js"></script>
<link href="../css/style.css" rel="stylesheet">
<script src="../js/vendor/modernizr.js"></script>

<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/arduino-light.min.css">
<script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.8.0/highlight.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/arduino.min.js"></script>
<script>hljs.initHighlightingOnLoad();</script>

</head>
<body>

<div id="header"></div>

<!-- FIRST ROW -->
<div class="row">
	<div class="large-3  columns">
		<h3> MEMS Microphone Module  </h3>
	</div >

	<div class="small-12 medium-12 large-9  columns">

		<h3> MEMS Microphone Workshop </h3>
		<p> For this workshop, please collect the following: 
			<ul> 
				<li>Microcontroller </li>
				<li>protoboard</li>
				<li>LED</li>
				<li>300-500 Ohm resistor</li>
                <li>Adafruit MEMS Microphone Breakout SPW2430   </li>
			</ul>
		</p> 

		<h3> LED Strips </h3>

		<p> Unlike conventional Electret Microphones, this MEMS microphone contains circuitry <a href='https://learn.adafruit.com/adafruit-arduino-lesson-3-rgb-leds/arduino-sketch'>PWM-ing 3 separate color channels</a>, Serial Plotter <code>analogWrites()</code> commands quickly add up to something intractable. Luckily, a number of libraries exist that make controlling these LED strips much easier. For this tutorial, we'll be using the <a href='https://learn.adafruit.com/adafruit-neopixel-uberguide?embeds=allow'>Adafruit NeoPixel</a> library, though we could have instead used an alternative like <a href='https://github.com/pololu/pololu-led-strip-arduino'>Pololu</a> or <a href='http://fastled.io/'>FastLED</a>. You can see all of the functions contained in the library on Adafruit's <a herf='https://github.com/adafruit/Adafruit_NeoPixel/blob/master/Adafruit_NeoPixel.cpp'>GitHub page</a>.</p>
        <img src='mems.jpg' alt='MEMS wiring'>

		<p>First, we'll want to <a href='https://learn.adafruit.com/adafruit-neopixel-uberguide/arduino-library-installation'>install the NeoPixel library</a> with the Library Manager.</p>

		<p>Then we'll want to wire up our RGB LED strip with a resistor between pin 9 and the DIN pad on the LED strip. Connect ground to the microcontroller's ground, and connect power to 3V. </p>

		<p> Finally, let's look at <a href='https://learn.adafruit.com/adafruit-neopixel-uberguide/arduino-library-use'>Adafruit's page on using their library</a>. We'll walk through the strandtest example, but first let's take a look at a minimal program to do something useful with this library:
		</p>


<pre><code class="language-arduino">
/****************************************
Example Sound Level Sketch for the 
Adafruit Microphone Amplifier
****************************************/
 
const int sampleWindow = 50; // Sample window width in mS (50 mS = 20Hz)
unsigned int sample;
 
void setup() 
{
   Serial.begin(9600);
}
 
 
void loop() 
{
   unsigned long startMillis= millis();  // Start of sample window
   unsigned int peakToPeak = 0;   // peak-to-peak level
 
   unsigned int signalMax = 0;
   unsigned int signalMin = 1024;
 
   // collect data for 50 mS
   while (millis() - startMillis < sampleWindow)
   {
      sample = analogRead(0);
      if (sample < 1024)  // toss out spurious readings
      {
         if (sample > signalMax)
         {
            signalMax = sample;  // save just the max levels
         }
         else if (sample < signalMin)
         {
            signalMin = sample;  // save just the min levels
         }
      }
   }
   peakToPeak = signalMax - signalMin;  // max - min = peak-peak amplitude
   double volts = (peakToPeak * 5.0) / 1024;  // convert to volts
 //LED brightness map to peakToPeak
   Serial.println(volts);
}
</code></pre>

	<p> See all the available <a href='https://adafruit.github.io/Adafruit_NeoPixel/html/class_adafruit___neo_pixel.html'>NeoPixel functions here</a>. 



		
	</div >
</div>



<div id="footer"></div>

</body>
</html>
